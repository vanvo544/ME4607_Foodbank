<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Trips ‚Äì Foodbank Logistics Hub</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- CSS giao di·ªán -->
   <link rel="stylesheet" href="orders.css" />
  <link rel="stylesheet" href="trip.css" />

  <!-- Leaflet (OpenStreetMap) -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""
  />
</head>
<body class="app">

  <!-- SIDEBAR CH√çNH -->
    <aside class="sidebar-main">
  <div class="sidebar-main-header">
    <div class="logo-circle">FB</div>
    <div>
      <div class="logo-title">Foodbank</div>
      <div class="logo-sub">Logistics Hub</div>
    </div>
  </div>

<nav class="sidebar-main-nav">
  <button class="nav-item" onclick="goTo('orders.html')">ƒê∆°n h√†ng</button>

  <!-- Nh√≥m: Qu·∫£n l√Ω t√†i kho·∫£n -->
  <div class="nav-group">
    <button
      class="nav-item nav-item-with-chevron"
      id="navAccountGroupBtn"
      type="button"
    >
      <span>Qu·∫£n l√Ω t√†i kho·∫£n</span>
      <span class="nav-item-chevron" id="navAccountChevron">‚ñ∏</span>
    </button>

    <div class="nav-subitems" id="navAccountSubmenu">
      <button
        class="nav-subitem"
        onclick="goTo('accounts.html')"
        type="button"
      >
        Ki·ªÉm duy·ªát th√¥ng tin
      </button>
      <button
        class="nav-subitem"
        onclick="goTo('households.html')"
        type="button"
      >
        H·ªô y·∫øu th·∫ø
      </button>
      <button
        class="nav-subitem"
        onclick="goTo('volunteers.html')"
        type="button"
      >
        T√¨nh nguy·ªán vi√™n
      </button>
      <button
        class="nav-subitem"
        onclick="goTo('community.html')"
        type="button"
      >
        T·ªï d√¢n ph·ªë
      </button>
    </div>
  </div>

  <!-- C√°c m·ª•c c√≤n l·∫°i c√πng level v·ªõi Qu·∫£n l√Ω t√†i kho·∫£n -->
  <button class="nav-item nav-subitem-active" onclick="goTo('trip.html')">
    Trip / Tuy·∫øn ƒë∆∞·ªùng
  </button>
  <button class="nav-item" onclick="goTo('campaign.html')">Chi·∫øn d·ªãch</button>
  <button class="nav-item" onclick="goTo('warehouse.html')">Kho t·∫≠p k·∫øt</button>
  <button class="nav-item" onclick="goTo('area.html')">Khu v·ª±c</button>
  <button class="nav-item" onclick="goTo('support.html')">S·ª± c·ªë & h·ªó tr·ª£</button>
</nav>

  <div class="sidebar-main-user">
    <div class="avatar-circle">AD</div>
    <div>
      <div class="user-name">Admin ‚Äì V√¢n</div>
      <div class="user-role">ƒêi·ªÅu ph·ªëi trung t√¢m</div>
    </div>
  </div>
</aside>





  <!-- LAYOUT TRIP -->
  <main class="trip-layout">
    <!-- SIDEBAR TRIP (C·ªòT TH·ª® 2) -->
    <section class="trip-sidebar">
      <header class="trip-sidebar-header">
        <div>
          <h1>Tracking trips</h1>
          <p>Theo d√µi c√°c chuy·∫øn giao h√†ng b·∫±ng xe m√°y</p>
        </div>
        <button class="btn btn-primary" id="btnAddTrip">+ Add trip (demo)</button>
      </header>

      <div class="trip-sidebar-filters">
        <div class="search-wrapper">
          <input
            id="tripSearch"
            class="input search-input"
            placeholder="T√¨m Trip ID, t√¨nh nguy·ªán vi√™n‚Ä¶"
          />
        </div>
        <div class="chips-row">
          <button class="chip chip-active" data-status="ALL">All</button>
          <button class="chip" data-status="Planned">Planned</button>
          <button class="chip" data-status="InProcess">In Process</button>
          <button class="chip" data-status="Completed">Completed</button>
          <button class="chip" data-status="Cancelled">Cancelled</button>
        </div>
      </div>

      <div id="tripList" class="trip-list">
        <!-- JS render danh s√°ch trip -->
      </div>
    </section>

    <!-- PANEL CHI TI·∫æT + MAP -->
        <!-- PANEL CHI TI·∫æT + MAP -->
        <!-- PANEL CHI TI·∫æT + MAP -->
    <section class="trip-detail">
      <!-- Thanh ti√™u ƒë·ªÅ Trip -->
      <header class="trip-detail-header">
        <div>
          <div class="trip-detail-label">ƒêang theo d√µi</div>
          <div class="trip-detail-title">
            Trip <span id="detailTripId">‚Äì</span>
            <span id="detailTripStatus" class="status-pill">‚Äì</span>
          </div>
        </div>
        <div class="trip-detail-actions">
          <button class="icon-btn" title="G·ªçi TNV">üìû</button>
          <button class="icon-btn" title="Chat">üí¨</button>
          <button class="icon-btn" title="Xem docs">üìÑ</button>
        </div>
      </header>

      <!-- N·ªôi dung chi ti·∫øt + map -->
      <div class="trip-detail-body">
        <!-- C·ªôt timeline + load info -->
        <div class="trip-timeline">
          <div class="timeline-tabs">
            <button class="tab tab-active" data-tab="tracking">Tracking</button>
            <button class="tab" data-tab="load">Load info</button>
          </div>

          <!-- Panel: Tracking (3 m·ªëc ch√≠nh) -->
          <div id="trackingPanel" class="timeline-panel">
            <ul class="timeline-list">
              <li class="timeline-item">
                <div class="timeline-dot timeline-dot-primary"></div>
                <div class="timeline-content">
                  <div class="timeline-title">Pick up</div>
                  <div id="pickupAddress" class="timeline-text"></div>
                  <div id="pickupTime" class="timeline-time"></div>
                </div>
              </li>
              <li class="timeline-item">
                <div class="timeline-dot"></div>
                <div class="timeline-content">
                  <div class="timeline-title">In sorting centre</div>
                  <div id="sortingAddress" class="timeline-text"></div>
                  <div id="sortingTime" class="timeline-time"></div>
                </div>
              </li>
              <li class="timeline-item">
                <div class="timeline-dot"></div>
                <div class="timeline-content">
                  <div class="timeline-title">Delivered</div>
                  <div id="deliveredAddress" class="timeline-text"></div>
                  <div id="deliveredTime" class="timeline-time"></div>
                </div>
              </li>
            </ul>

            <div class="trip-meta">
              <div><span>Volunteer:</span> <span id="detailVolunteer">‚Äì</span></div>
              <div><span>Campaign:</span> <span id="detailCampaign">‚Äì</span></div>
              <div><span>Warehouse:</span> <span id="detailWarehouse">‚Äì</span></div>
              <div><span>Distance:</span> <span id="detailDistance">‚Äì</span></div>
            </div>
          </div>

          <!-- Panel: Load info ‚Äì GPS log 2 ph√∫t/l·∫ßn -->
          <div id="loadInfoPanel" class="timeline-panel" style="display:none;">
            <div class="gps-header">
              <h3>L·ªô tr√¨nh chi ti·∫øt (GPS log)</h3>
              <span id="gpsSummary" class="gps-summary"></span>
            </div>

            <div class="gps-table-wrapper">
              <table class="gps-table">
                <thead>
                  <tr>
                    <th>#</th>
                    <th>Th·ªùi gian</th>
                    <th>Lat</th>
                    <th>Lng</th>
                    <th>ƒê·ªãa ch·ªâ</th>
                    <th>T·ªëc ƒë·ªô (km/h)</th>
                    <th>Tr·∫°ng th√°i</th>
                  </tr>
                </thead>
                <tbody id="gpsLogTableBody">
                  <!-- JS render GPS log -->
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- C·ªôt map -->
        <div class="trip-map-wrapper">
          <div class="map-toolbar">
            <button class="map-btn map-btn-active">Map</button>
          </div>
          <div id="map" class="map"></div>
        </div>
      </div>
    </section>


  </main>

  <!-- Leaflet JS -->
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""
  ></script>

  <!-- JS logic Trip -->
  <script src="trip.js"></script>
  <script src="navigation.js"></script>


</body>
</html>
